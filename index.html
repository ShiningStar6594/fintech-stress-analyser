<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styling.css">
    <title>FinTech Stress Tester</title>
</head>
<body>
    <div class="dashboard_wrapper">
        
        <aside class="config_panel">
            <h2>Scenario Settings</h2> 
            
            <div class="macro_group">
                <label for="market_move">Market Overall (S&P 500) %</label>
                <input type="number" id="market_move" min = "-100" placeholder="e.g. -10">

                <label for="Risk free rate">Risk free rate %</label>
                <input type="number" id="risk_free_return" placeholder="e.g. 3.5">

                <label for="total_investment">Total Investment ($)</label>
                <input type="tel" id="total_investment" placeholder="Optional, (Numbers only)">
            </div>

            <hr>

            <div class="risk_group">
                <label>Investor Risk Tolerance (1-10)</label>
                <input type="range" id="risk_tolerance" min="1" max="10" value="5">
                <p>Risk tolerance: <span id="tolerance_val">5</span>/10</p>
            </div>

            <div class="action_btns">
                <button type="button" id="runBtn" class="btn_run">Run Stress Test</button>
                <button type="button" id="resetBtn" class="btn_reset">Reset All</button>
            </div>
        </aside>

        <main class="analysis_area">
            
            <section class="portfolio-input_card">
                <div class="section_header">
                    <h3>Portfolio Composition</h3>
                    <div class="crud-btns">
                        <button type="button" id="addSectorBtn">+ Sector</button>
                        <button type="button" id="deleteSectorBtn">- Sector</button>
                    </div>
                </div>
                
                <div id="portfolio_inputs">
                    <div class="sector_row">
                        <input type="text" class="sector_name" placeholder="Sector Name">
                        <input type="number" class="sector_weight" min="0" placeholder="Weight %">
                        <input type="number" class="sector_SD" placeholder="SD (Optional)">
                    </div>
                </div>
            </section>

            <section class="shock_input_card">
                <div class="section_header">
                    <h3>Systematic Risk (Betas)</h3>
                    <div class="crud-btns">
                        <button type="button" id="addShockBtn">+ Beta</button>
                        <button type="button" id="deleteShockBtn">- Beta</button>
                    </div>
                </div>
                <div id="shock_container">
                    <div class="scenario_controls">
                        <input type="text" class="target" placeholder="Sector to shock">
                        <input type="number" class="shock" step="0.1" placeholder="Beta " min="-5" max="5" >
                    </div>
                </div>
            </section>

            <section class="output_display">
               <div class="stats">
                   <h2 id="resultText">Impact: --</h2>
                       <h2 id="adviceText">Recommendation: ⚠️ <br> Assumption: Portfolio Volatility is calculated assuming Zero Correlation between sectors. 
                        <br>In reality, sectors often move together, which may result in higher actual volatility than shown.</h2>
               </div>

               <div class="pie_container">
                      <div id="piechart"></div> <div id="label">
                      </div>
                </div>
            </section>

        </main>
    </div>
    <div id="link_container">
        <span id = "popup_update" class="fake_link">
            <br><br><br>
            Update log
        </span>
        <br>
        <span id=  "popup_instructions" class="fake_link">
            Instructions
        </span>
        <br>
        <span id = "popup_author" class="fake_link">
            Authors
        </span>
    </div>
    <div id="modal_update" class="modal_window">
   <div class="modal_content">
        <span class="close_x" onclick="closeModal('modal_update')">&times;</span>
        <h2>Update Log</h2>
        <p>Version 1.0: Added the popup system!</p>
      </div>
    </div>

    <div id="modal_instructions" class="modal_window">
      <div class="modal_content">
        <span class="close_x" onclick="closeModal('modal_instructions')">&times;</span>
        <h2>Instructions</h2>
      </div>
    </div>

    <div id="modal_author" class="modal_window">
      <div class="modal_content">
        <span class="close_x" onclick="closeModal('modal_author')">&times;</span>
        <h2>About the Author</h2>
      </div>
    </div>


    <script src="analyser_log.js" ></script>
    <script src="button_hold.js" ></script>
    <script src="advisor_logic.js" ></script>
</body>
</html>
