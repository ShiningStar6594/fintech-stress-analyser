<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styling.css">
    <title>Portfolio Stress Analyser</title>
</head>
<body>
    <div class="dashboard_wrapper">
        
        <aside class="config_panel">
            <h2>Scenario Settings</h2> 
            
            <div class="macro_group">
                <label for="market_move">Market Overall (S&P 500) %</label>
                <input type="number" id="market_move" min = "-100" step = "0.1" placeholder="e.g. -10">

                <label for="Risk free rate">Risk free rate %</label>
                <input type="number" id="risk_free_return" step = "0.1" placeholder="e.g. 3.5">

                <label for="total_investment">Total Investment ($)</label>
                <input type="tel" id="total_investment" placeholder="Optional, (Numbers only)">
            </div>

            <hr>

            <div class="risk_group">
                <label>Investor Risk Tolerance (0-2.5)</label>
                <input type="range" id="risk_tolerance" min="0" max="2.5" step = "0.01" value="1.5">
                <p>Risk tolerance: <span id="tolerance_val">1.5</span>/2.5</p>
            </div>

            <div class="action_btns">
                <button type="button" id="runBtn" class="btn_run">Run Stress Test</button>
                <button type="button" id="resetBtn" class="btn_reset">Reset All</button>
            </div>
            <div id="link_container">
                <span id = "popup_update" class="fake_link" onclick="open_windows('modal_update')">
                <br><br><br>
                Update log
                </span>
                <br>
                <span id=  "popup_instructions" class="fake_link" onclick="open_windows('modal_instructions')">
                Instructions
                </span>
                <br>
                <span id = "popup_author" class="fake_link" onclick="open_windows('modal_author')">
                Authors
                </span>
            </div>
        </aside>

        <main class="analysis_area">
            
            <section class="portfolio_input_card">
                <div class="section_header">
                    <h3>Portfolio Composition</h3>
                    <div class="crud-btns">
                        <button type="button" id="addSectorBtn">+ Sector</button>
                        <button type="button" id="deleteSectorBtn">- Sector</button>
                    </div>
                </div>
                
                <div id="portfolio_inputs">
                    <div class="sector_row">
                        <input type="text" class="sector_name" placeholder="Sector Name">
                        <input type="number" class="sector_weight" min="0" placeholder="Weight %">
                        <input type="number" class="sector_SD" placeholder="SD (Optional)">
                    </div>
                </div>
            </section>

            <section class="shock_input_card">
                <div class="section_header">
                    <h3>Systematic Risk (Betas)</h3>
                    <div class="crud-btns">
                        <button type="button" id="addShockBtn">+ Beta</button>
                        <button type="button" id="deleteShockBtn">- Beta</button>
                    </div>
                </div>
                <div id="shock_container">
                    <div class="scenario_controls">
                        <input type="text" class="target" placeholder="Sector to shock">
                        <input type="number" class="shock" step="0.1" placeholder="Beta " min="-5" max="5" >
                    </div>
                </div>
            </section>

            <section class="output_display">
               <div class="stats">
                   <h2 id="resultText">Impact: --</h2>
                       <h2 id="adviceText">Recommendation: --</h2>
               </div>

               <div class="pie_container">
                      <div id="piechart"></div> <div id="label">
                      </div>
                </div>
            </section>

        </main>
    </div>

    <div id="modal_update" class="modal_window">
   <div class="modal_content">
        <span class="close_x" onclick="close_windows('modal_update')">&times;</span>
        <h2>Update Log</h2>
        <hr>
        <p>Version 1.0.0 : Launch of the portfolio stress analyser website 15/02/2026 </p>
        <p>Version 1.0.1 : Bugged fixed: sharpe ratio and related logic error, total weight reached maximum 
           wrong recommendations error, numbers display errors  16/02/2026 
        </p>
      </div>
    </div>

    <div id="modal_instructions" class="modal_window">
      <div class="modal_content">
        <span class="close_x" onclick="close_windows('modal_instructions')">&times;</span>
        <h2>Welcome to the Portfolio Stress Analyser !</h2>
        <hr>
        <h3> Instructions </h3>
        <p> In this analyzer, you must enter the risk-free rate,
            the market move &nbsp; (in %), and the weight of each sector in your portfolio.
            The total investment and sector betas are optional (sectors without a beta will be treated as cash). 
            For standard deviation, either enter values for all sectors or leave the field completely empty. 
            Ensure you set your tolerance as target risk so the analyzer can make decisions based on this information.
        </p>
        <br>
        <h3> What to expect </h3>
        <p> Based on the information provided, the analyzer will calculate the Sharpe ratio, 
            expected gain/loss, expected portfolio value, portfolio beta, and portfolio volatility.
            It will also identify your expected best and worst performers. 
            Finally, it provides suggestions based on your tolerance, 
            indicating which sectors you should short or long and whether the overall portfolio is meeting your targets.
        </p>
        <h3> ⚠️Assumption: </h3>
        <p> Portfolio volatility is calculated assuming zero correlation between sectors. 
            In reality, sectors often move together, which may result in higher actual volatility than shown here.
        </p>
        <h3> ⚠️ Disclaimer: </h3>
        <p> All suggestions and results provided by this analyzer
            do not constitute financial advice. 
            The authors are not responsible for any financial losses or decisions made based on this tool. 
            Please consider carefully before making any investment decisions.</p>
      </div>
    </div>

    <div id="modal_author" class="modal_window">
      <div class="modal_content">
        <span class="close_x" onclick="close_windows('modal_author')">&times;</span>
        <h2>About the Authors</h2>
        <hr>
        <section style="margin-top: 20px;">
           <div style="margin-bottom: 15px;">
              <h3 style="margin-bottom: 5px;">Developer & Financial Modeller</h3>
              <p style="margin: 0;">Lennox Yeung — <a href="https://github.com/ShiningStar6594" target="_blank">GitHub</a>
                  <a href="https://www.linkedin.com/in/lennox-yeung-01154b361/" target="_blank" rel="noopener">LinkedIn</a>                  
              </p>
           </div>

            <div style="margin-bottom: 15px;">
              <h3 style="margin-bottom: 5px;">Finance Consultant & Advisor</h3>
              <p style="margin: 0;">Jason Hau — <a href="https://github.com/jasonhau0304" target="_blank">GitHub</a>
              <a href="https://www.linkedin.com/in/jh34/" target="_blank" rel="noopener">LinkedIn</a>
              </p>
           </div>
            <div>
                <hr>
                <a href="https://github.com/ShiningStar6594/fintech-stress-analyser" target= "_blank">Source code</a>
            </div>
        </section>
        <hr>
        <h3> ⚠️ Disclaimer: </h3>
        <p> All suggestions and results provided by this analyzer
            do not constitute financial advice. 
            The authors are not responsible for any financial losses or decisions made based on this tool. 
            Please consider carefully before making any investment decisions.</p>
      </div>
    </div>


    <script src="analyser_log.js" ></script>
    <script src="button_hold.js" ></script>
    <script src="advisor_logic.js" ></script>
    <script src="windows.js" ></script>
</body>
</html>



















